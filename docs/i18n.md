# Internationalisation (i18n) ğŸš§

## Config files


```sh{2,3,4,7,8,9}
â”œâ”€â”€ src
â”‚Â Â  â”œâ”€â”€ locales # Global locales files
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ en-US.json
â”‚Â Â  â”‚Â Â  â””â”€â”€ fr.json
â”‚Â Â  â”œâ”€â”€ nodes
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ my-node-1
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ locales # Node specific locales files
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ en-US.json
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ fr.json
```

## Global ğŸ‘‰ available in all nodes

::: tip Mandatory âš ï¸
Place your global config files in the `src/locales` directory.
Files must be named with the language code of Node-RED. For example, `en-US.json`.
:::


For example, add a file `src/locales/en-US.json` with the following content:

```json
{
  "hello": "Hello"
}
```

This will make the `hello` key available **in all nodes**.

## Scoped ğŸ‘‰ available in a specific node

::: tip Mandatory âš ï¸
Place your global config files in the `src/nodes/my_node/locales` directory.
Files must be named with the language code of Node-RED. For example, `en-US.json`.
:::

For example, add a file `src/nodes/my_node/locales/en-US.json` with the following content:

```json
{
  "foo": "Foo"
}
```

This will make the `foo` key available only in the `my_node` node.


## Usage

### In `pug` files

By default, `id` is used to match with key in local's files.

```jade
+dxpFormRowInputText({ id: 'name', label: 'Name', icon: 'tag' })
```

and you can set key in local file: 

```json
{
  "name": "my perfect name",
  "name-placeholder": "my perfect name" // key is automatically generated
}
```

Alternatively, you can pass an arbitrary i18n key: 

```jade
+dxpFormRowInputText({ id: 'name', label: 'Name', icon: 'tag', i18nKey: 'other_key' })
```

```json
{
  "other_key": "my perfect name on other key",
  "other_key-placeholder": "my perfect name" // key is automatically generated
}
```

**NB:**

- i18n key is apply on label inner text **and** `title` prop.
- `placeholder` for inputText is also considered and a new key `{key}-placeholder` is automatically generated

### In editor HTML

âš ï¸ Please, consider use `pug` file ğŸ™

You can follow [official doc](https://nodered.org/docs/creating-nodes/i18n) but with one important difference:

**You don't need to prefix the key with the node name. Just use the key directly.**

For example. In the file `src/nodes/my_node/editor/index.html`:

âœ… Good

```html
<span data-i18n="foo"></span>
```

âŒ Bad

```html
<span data-i18n="my_node.foo"></span>
```

::: warning
`foo` must be defined in the global or scoped node config files.
:::

### In scripts

For now, you can use the `RED._` function to get the translation from Node-RED [official doc](https://nodered.org/docs/creating-nodes/i18n).

**So, you must include node name in the key.**
